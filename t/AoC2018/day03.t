use strict;
use warnings;
use Test::More tests => 7;
use AoC2018::Day03;
use File::Slurp;

my @input = read_file("input/AoC2018/day03.txt");

my @fabric1 = (
    [0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0],
    [0,0,0,1,1,1,1,1],
    [0,0,0,1,1,1,1,1],
    [0,0,0,1,1,1,1,1],
    [0,0,0,1,1,1,1,1]);

is( Day03::claim("#123 @ 3,2: 5x4", ()), @fabric1 );

my @fabric2 = (
    [0,0,0,0,0],
    [0,0,0,0,0],
    [0,0,0,0,0],
    [0,1,1,1,1],
    [0,1,1,1,1],
    [0,1,1,1,1],
    [0,1,1,1,1]);

is( Day03::claim("#1 @ 1,3: 4x4", ()),  @fabric2 );

my @fabric3 = (
    [0,0,0,0,0,0,0],
    [0,0,0,1,1,1,1],
    [0,0,0,1,1,1,1],
    [0,0,0,1,1,1,1],
    [0,0,0,1,1,1,1]);

is( Day03::claim("#2 @ 3,1: 4x4", ()),  @fabric3 );

my @fabric4 = (
    [0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0],
    [0,0,0,0,0,1,1],
    [0,0,0,0,0,1,1]);

is( Day03::claim("#3 @ 5,5: 2x2", ()),  @fabric4 );

my @expectedFabric5 = (
    [0,0,0,0,0,0,0],
    [0,0,0,1,1,1,1],
    [0,0,0,1,1,1,1],
    [0,1,1,2,2,1,1],
    [0,1,1,2,2,1,1],
    [0,1,1,1,1,1,1],
    [0,1,1,1,1,1,1]);

my @fabric5;
@fabric5 = Day03::claim("#1 @ 1,3: 4x4",    @fabric5 );
@fabric5 = Day03::claim("#2 @ 3,1: 4x4",    @fabric5 );
@fabric5 = Day03::claim("#3 @ 5,5: 2x2",    @fabric5 );

is( @expectedFabric5,                       @fabric5 );  

my @claims = ("#1 @ 1,3: 4x4", "#2 @ 3,1: 4x4", "#3 @ 5,5: 2x2");

is( Day03::part1(@claims),                         4 );

is( Day03::part1(@input),                     101196 );
